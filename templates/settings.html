{% extends "dashboard.html" %}

{% block content %}
<div class="settings-container">
    <div class="settings-header">
        <h2><i class="fas fa-cog"></i> Settings</h2>
        <p>Customize your experience and manage your account</p>
    </div>

    <div class="settings-content">
        <!-- Account Settings -->
        <div class="settings-section">
            <div class="section-header">
                <h3><i class="fas fa-user-cog"></i> Account Settings</h3>
            </div>
            
            <div class="settings-form">
                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" value="{{ user.email }}" class="form-control" readonly>
                    <small class="form-text">Your email address cannot be changed</small>
                </div>
                
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" value="{{ user.username }}" class="form-control">
                </div>
                
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" value="{{ user.name }}" class="form-control">
                </div>
                
                <div class="form-group">
                    <label>Phone Number</label>
                    <input type="tel" value="{{ user.phone|default('') }}" class="form-control">
                </div>
                
                <div class="form-group">
                    <label>Date of Birth</label>
                    <input type="date" value="{{ user.dob|default('') }}" class="form-control">
                </div>
                
                <div class="form-group">
                    <label>Gender</label>
                    <select class="form-control">
                        <option value="male" {% if user.gender == 'male' %}selected{% endif %}>Male</option>
                        <option value="female" {% if user.gender == 'female' %}selected{% endif %}>Female</option>
                        <option value="other" {% if user.gender == 'other' %}selected{% endif %}>Other</option>
                    </select>
                </div>
                
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save"></i> Save Changes
                </button>
            </div>
        </div>

        <!-- Privacy Settings -->
        <div class="settings-section">
            <div class="section-header">
                <h3><i class="fas fa-shield-alt"></i> Privacy Settings</h3>
            </div>
            
            <div class="privacy-settings">
                <div class="setting-item">
                    <div class="setting-info">
                        <h4>Profile Visibility</h4>
                        <p>Control who can see your profile and activity</p>
                    </div>
                    <select class="form-control">
                        <option value="public" {% if privacy.profile_visibility == 'public' %}selected{% endif %}>Public</option>
                        <option value="friends" {% if privacy.profile_visibility == 'friends' %}selected{% endif %}>Friends Only</option>
                        <option value="private" {% if privacy.profile_visibility == 'private' %}selected{% endif %}>Private</option>
                    </select>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <h4>Activity Sharing</h4>
                        <p>Choose what activities are visible to others</p>
                    </div>
                    <div class="setting-options">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="shareWorkouts" {% if privacy.share_workouts %}checked{% endif %}>
                            <label class="form-check-label" for="shareWorkouts">Share Workouts</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="shareProgress" {% if privacy.share_progress %}checked{% endif %}>
                            <label class="form-check-label" for="shareProgress">Share Progress</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="shareAchievements" {% if privacy.share_achievements %}checked{% endif %}>
                            <label class="form-check-label" for="shareAchievements">Share Achievements</label>
                        </div>
                    </div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <h4>Message Privacy</h4>
                        <p>Control who can send you messages</p>
                    </div>
                    <select class="form-control">
                        <option value="everyone" {% if privacy.message_privacy == 'everyone' %}selected{% endif %}>Everyone</option>
                        <option value="friends" {% if privacy.message_privacy == 'friends' %}selected{% endif %}>Friends Only</option>
                        <option value="none" {% if privacy.message_privacy == 'none' %}selected{% endif %}>No One</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Notification Settings -->
        <div class="settings-section">
            <div class="section-header">
                <h3><i class="fas fa-bell"></i> Notification Settings</h3>
            </div>
            
            <div class="notification-settings">
                <div class="setting-item">
                    <div class="setting-info">
                        <h4>Email Notifications</h4>
                        <p>Receive notifications via email</p>
                    </div>
                    <div class="setting-options">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="emailWorkouts" {% if notifications.email_workouts %}checked{% endif %}>
                            <label class="form-check-label" for="emailWorkouts">Workout Reminders</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="emailProgress" {% if notifications.email_progress %}checked{% endif %}>
                            <label class="form-check-label" for="emailProgress">Progress Updates</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="emailMessages" {% if notifications.email_messages %}checked{% endif %}>
                            <label class="form-check-label" for="emailMessages">New Messages</label>
                        </div>
                    </div>
                </div>
                
                <div class="setting-item">
                    <div class="setting-info">
                        <h4>Push Notifications</h4>
                        <p>Receive notifications on your device</p>
                    </div>
                    <div class="setting-options">
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="pushWorkouts" {% if notifications.push_workouts %}checked{% endif %}>
                            <label class="form-check-label" for="pushWorkouts">Workout Reminders</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="pushProgress" {% if notifications.push_progress %}checked{% endif %}>
                            <label class="form-check-label" for="pushProgress">Progress Updates</label>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="pushMessages" {% if notifications.push_messages %}checked{% endif %}>
                            <label class="form-check-label" for="pushMessages">New Messages</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Account Actions -->
        <div class="settings-section">
            <div class="section-header">
                <h3><i class="fas fa-exclamation-triangle"></i> Account Actions</h3>
            </div>
            
            <div class="account-actions">
                <button class="btn btn-warning">
                    <i class="fas fa-download"></i> Export Data
                </button>
                <button class="btn btn-danger">
                    <i class="fas fa-trash"></i> Delete Account
                </button>
            </div>
        </div>
    </div>
</div>

<style>
.settings-container {
    padding: 2rem;
}

.settings-header {
    margin-bottom: 2rem;
}

.settings-section {
    background: white;
    border-radius: 10px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.section-header {
    margin-bottom: 1.5rem;
}

.settings-form {
    max-width: 600px;
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 500;
    color: #343a40;
}

.form-control {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
}

.form-text {
    display: block;
    margin-top: 0.25rem;
    color: #6c757d;
    font-size: 0.875rem;
}

.setting-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 0;
    border-bottom: 1px solid #e9ecef;
}

.setting-item:last-child {
    border-bottom: none;
}

.setting-info {
    flex: 1;
}

.setting-info h4 {
    margin: 0 0 0.25rem 0;
    color: #343a40;
}

.setting-info p {
    margin: 0;
    color: #6c757d;
    font-size: 0.875rem;
}

.setting-options {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.form-check {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.form-check-input {
    width: 1rem;
    height: 1rem;
}

.form-check-label {
    color: #343a40;
    font-size: 0.875rem;
}

.account-actions {
    display: flex;
    gap: 1rem;
}

.btn-warning {
    background: #ffc107;
    color: #343a40;
}

.btn-danger {
    background: #dc3545;
    color: white;
}

.btn-warning:hover {
    background: #e0a800;
}

.btn-danger:hover {
    background: #c82333;
}
</style>
{% endblock %} 